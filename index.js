(()=>{"use strict";var e={507:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(s,a){function u(e){try{i(n.next(e))}catch(e){a(e)}}function o(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,o)}i((n=n.apply(e,r||[])).next())}))},s=this&&this.__generator||function(e,r){var t,n,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(u=0)),u;)try{if(t=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((s=(s=u.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=r.call(e,u)}catch(e){o=[6,e],n=0}finally{t=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};r.__esModule=!0,r.verifyToken=r.checkEmailEligibility=r.checkUsernameEligibility=r.registerUser=r.loginUser=void 0;var a=t(432),u=t(344),o=t(966),i=t(736);r.loginUser=function(e,r){return n(this,void 0,void 0,(function(){var t,n,i,c,l,d,f,h,p,v,y;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,6,,7]),t=e.body,n=t.login,i=t.password,c=t.adminPassword,l=!1,!n||!i)return[2,r.status(400).send('Invalid input: "password" and "login" are required')];if(c){if(c!==process.env.ADMIN_PASSWORD)return[2,r.status(401).send("Incorrect admin password")];l=!0}return[4,o.default.findOne({email:n})];case 1:return(f=s.sent())?[3,3]:[4,o.default.findOne({username:n})];case 2:f=s.sent(),s.label=3;case 3:return h=(d=f).password,(p=d)?[4,a.compare(i,h)]:[3,5];case 4:p=s.sent(),s.label=5;case 5:return p?(d.update({isAdmin:l}),v=u.sign({user_id:d._id,isAdmin:l},process.env.TOKEN_KEY,{expiresIn:process.env.TOKEN_LIFETIME}),r.status(200).json(v),[3,7]):(r.status(404).send('User with this "password" and "login" was not found'),[2]);case 6:return y=s.sent(),console.error(y),r.status(500).send("Server error"),[3,7];case 7:return[2]}}))}))},r.registerUser=function(e,r){return n(this,void 0,void 0,(function(){var t,n,c,l,d,f,h,p,v,y;return s(this,(function(s){switch(s.label){case 0:if(s.trys.push([0,4,,5]),t=e.body,n=t.email,c=t.password,l=t.username,d=t.adminPassword,f=!1,!(n&&c&&l))return[2,r.status(400).send('Invalid input: "email", "password" and "username" are required')];if(d){if(d!==process.env.ADMIN_PASSWORD)return[2,r.status(401).send("Invalid admin password")];f=!0}return[4,a.hash(c,10)];case 1:return h=s.sent(),[4,o.default.create({email:n.toLowerCase(),username:l,password:h,isAdmin:f})];case 2:return p=s.sent(),[4,i.default.create({username:l,_id:p._id})];case 3:return s.sent(),v=u.sign({user_id:p._id,isAdmin:f},process.env.TOKEN_KEY,{expiresIn:process.env.TOKEN_LIFETIME}),r.status(201).json(v),[3,5];case 4:return y=s.sent(),console.error(y),r.status(500).send("Server error"),[3,5];case 5:return[2]}}))}))},r.checkUsernameEligibility=function(e){var r=this;return function(t,a,u){return n(r,void 0,void 0,(function(){var r,n;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),(r=t.body.username)?[3,1]:[2,a.status(400).send('Invalid input: "username" is required')];case 1:return[4,o.default.findOne({username:r})];case 2:if(s.sent())return[2,a.status(422).send("Username is already taken")];s.label=3;case 3:return e?(a.end(),[3,5]):[2,u()];case 4:return n=s.sent(),console.error(n),a.status(500).send("Server error"),[3,5];case 5:return[2]}}))}))}},r.checkEmailEligibility=function(e){var r=this;return function(t,a,u){return n(r,void 0,void 0,(function(){var r,n;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),(r=t.body.email)?[3,1]:[2,a.status(400).send('Invalid input: "email" is required')];case 1:return[4,o.default.findOne({email:r})];case 2:if(s.sent())return[2,a.status(409).send("A user with this email address already exists")];s.label=3;case 3:return e?(a.end(),[3,5]):[2,u()];case 4:return n=s.sent(),console.error(n),a.status(500).send("Server error"),[3,5];case 5:return[2]}}))}))}},r.verifyToken=function(e){var r=this;return function(t,a,o){return n(r,void 0,void 0,(function(){var r,n;return s(this,(function(s){if(!(r=t.body.token||t.query.token||t.headers["x-access-token"]))return[2,a.status(403).send("A token is required for authentication")];try{if(void 0===(n=u.verify(r,process.env.TOKEN_KEY)).user_id||void 0===n.isAdmin)return[2,a.status(401).send("Invalid Token")];if(e&&!n.isAdmin)return[2,a.status(401).send("You don't have rights to do that")];t.body.userData=n}catch(e){return[2,a.status(401).send("Invalid Token")]}return[2,o()]}))}))}}},198:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(s,a){function u(e){try{i(n.next(e))}catch(e){a(e)}}function o(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,o)}i((n=n.apply(e,r||[])).next())}))},s=this&&this.__generator||function(e,r){var t,n,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(u=0)),u;)try{if(t=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((s=(s=u.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=r.call(e,u)}catch(e){o=[6,e],n=0}finally{t=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};r.__esModule=!0,r.getAvatar=r.updateAvatarByUsername=r.updateAvatar=void 0;var a=t(736),u=t(667);r.updateAvatar=function(e,r){return n(this,void 0,void 0,(function(){var t,n,u;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=e.file.id,n=e.body.userData.user_id,[4,a.default.findOneAndUpdate({_id:n},{avatarId:t},{new:!0})];case 1:return s.sent(),r.status(200).end(),[3,3];case 2:return u=s.sent(),console.error(u),r.status(500).send("Server error"),[3,3];case 3:return[2]}}))}))},r.updateAvatarByUsername=function(e,r){return n(this,void 0,void 0,(function(){var t,n,u;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),t=e.file.id,(n=e.params.username)?[4,a.default.findOneAndUpdate({username:n},{avatarId:t},{new:!0})]:[3,2];case 1:return s.sent(),[3,3];case 2:return[2,r.status(400).send('Invalid input: "username" is required')];case 3:return r.status(200).end(),[3,5];case 4:return u=s.sent(),console.error(u),r.status(500).send("Server error"),[3,5];case 5:return[2]}}))}))},r.getAvatar=function(e,r){return n(this,void 0,void 0,(function(){var t,n,o,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),(t=e.params.username)?[4,a.default.findOne({username:t})]:[2,r.status(400).send('Invalid input: "username" is required')];case 1:return(n=s.sent())?[4,u.bucket.find({_id:n.avatarId}).toArray()]:[2,r.status(404).send('User with this "username" not found')];case 2:return(o=s.sent())&&0!==o.length?(u.bucket.openDownloadStream(n.avatarId).pipe(r),[3,4]):[2,r.status(404).json({err:"User does not have an avatar"})];case 3:return i=s.sent(),console.error(i),r.status(500).send("Server error"),[3,4];case 4:return[2]}}))}))}},105:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(s,a){function u(e){try{i(n.next(e))}catch(e){a(e)}}function o(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,o)}i((n=n.apply(e,r||[])).next())}))},s=this&&this.__generator||function(e,r){var t,n,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(u=0)),u;)try{if(t=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((s=(s=u.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=r.call(e,u)}catch(e){o=[6,e],n=0}finally{t=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};r.__esModule=!0,r.getUserDataByUsername=r.getUserData=r.updateUserDataByUsername=r.updateUserData=void 0;var a=t(736);r.updateUserData=function(e,r,t){return n(this,void 0,void 0,(function(){var n,u,o,i,c,l,d,f;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),n=e.body,u=n.language,o=n.levelFlexbox,u||o?(i=void 0,e.body.username?e.body.userData.isAdmin?(c=String(e.body.username),[4,a.default.findOneAndUpdate({username:c},{language:u,levelFlexbox:o},{new:!0})]):[2,r.status(401).send("You don't have rights to do that")]:[3,2]):[2,t()];case 1:return i=s.sent(),[3,4];case 2:return l=e.body.userData.user_id,[4,a.default.findOneAndUpdate({_id:l},{language:u,levelFlexbox:o},{new:!0})];case 3:i=s.sent(),s.label=4;case 4:return d={language:i.language,levelFlexbox:i.levelFlexbox},r.status(200).json(d),[3,6];case 5:return f=s.sent(),console.error(f),r.status(500).send("Server error"),[3,6];case 6:return[2]}}))}))},r.updateUserDataByUsername=function(e,r,t){return n(this,void 0,void 0,(function(){var n,u,o,i,c,l,d;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),n=e.body,u=n.language,o=n.levelFlexbox,u||o?(i=e.params.username)?[4,a.default.findOneAndUpdate({username:i},{language:u,levelFlexbox:o},{new:!0})]:[2,r.status(400).send('Invalid input: "username" is required')]:[2,t()];case 1:return c=s.sent(),l={language:c.language,levelFlexbox:c.levelFlexbox},r.status(200).json(l),[3,3];case 2:return d=s.sent(),console.error(d),r.status(500).send("Server error"),[3,3];case 3:return[2]}}))}))},r.getUserData=function(e,r){return n(this,void 0,void 0,(function(){var t,n,u,o,i;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),t=void 0,e.body.username?e.body.userData.isAdmin?(n=String(e.body.username),[4,a.default.findOne({username:n})]):[2,r.status(401).send("You don't have rights to do that")]:[3,2];case 1:return(t=s.sent())?[3,4]:[2,r.status(404).send('User with this "nickname" not found')];case 2:return u=e.body.userData.user_id,[4,a.default.findOne({_id:u})];case 3:t=s.sent(),s.label=4;case 4:return o={language:t.language,levelFlexbox:t.levelFlexbox},r.status(200).json(o),[3,6];case 5:return i=s.sent(),console.error(i),r.status(500).send("Server error"),[3,6];case 6:return[2]}}))}))},r.getUserDataByUsername=function(e,r){return n(this,void 0,void 0,(function(){var t,n,u,o;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),(t=e.params.username)?e.body.userData.isAdmin?[4,a.default.findOne({username:t})]:[2,r.status(401).send("You don't have rights to do that")]:[2,r.status(400).send('Invalid input: "username" is required')];case 1:return(n=s.sent())?(u={language:n.language,levelFlexbox:n.levelFlexbox},r.status(200).json(u),[3,3]):[2,r.status(404).send('User with this "nickname" not found')];case 2:return o=s.sent(),console.error(o),r.status(500).send("Server error"),[3,3];case 3:return[2]}}))}))}},776:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(s,a){function u(e){try{i(n.next(e))}catch(e){a(e)}}function o(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,o)}i((n=n.apply(e,r||[])).next())}))},s=this&&this.__generator||function(e,r){var t,n,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(u=0)),u;)try{if(t=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((s=(s=u.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=r.call(e,u)}catch(e){o=[6,e],n=0}finally{t=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};r.__esModule=!0,r.getUsersRecords=void 0;var a=t(736);r.getUsersRecords=function(e,r){return n(this,void 0,void 0,(function(){var t,n,u,o,i,c,l,d;return s(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),t=e.query,n=a.default.find(),t.limit>=0&&(t.page>=0&&n.skip(t.limit*(t.page-1)),n.limit(t.limit)),n.sort([[t.sort,t.order]]),n.select({_id:0,username:1,levelFlexbox:1}),[4,n.exec()];case 1:return u=s.sent(),i=(o=r).setHeader,c=["X-Total-Count"],l="".concat,[4,a.default.find().estimatedDocumentCount().exec()];case 2:return i.apply(o,c.concat([l.apply("",[s.sent()])])),r.status(200).json(u),[3,4];case 3:return d=s.sent(),console.error(d),r.status(500).send("Server error"),[3,4];case 4:return[2]}}))}))}},607:(e,r,t)=>{r.__esModule=!0,r.listen=r.MONGODB_URI=r.PORT=void 0;var n=t(860);t(142).config();var s=t(470),a=t(582),u=t(14),o=t(667);r.PORT=process.env.PORT,r.MONGODB_URI=process.env.MONGODB_URI;var i=n();i.use(a()),i.use(n.json()),i.use(n.urlencoded({extended:!0})),s.token("body",(function(e){return JSON.stringify(e.body)})),i.use(s(":method :url :status :response-time ms - :res[content-length] :body - :req[content-length]")),i.use("/",u.router),r.listen=function(){i.listen(r.PORT),console.log("Server started at http://localhost:"+r.PORT)},(0,o.connect)()},667:function(e,r,t){var n=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))((function(s,a){function u(e){try{i(n.next(e))}catch(e){a(e)}}function o(e){try{i(n.throw(e))}catch(e){a(e)}}function i(e){var r;e.done?s(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(u,o)}i((n=n.apply(e,r||[])).next())}))},s=this&&this.__generator||function(e,r){var t,n,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(i){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(u=0)),u;)try{if(t=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,n=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((s=(s=u.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){u.label=o[1];break}if(6===o[0]&&u.label<s[1]){u.label=s[1],s=o;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(o);break}s[2]&&u.ops.pop(),u.trys.pop();continue}o=r.call(e,u)}catch(e){o=[6,e],n=0}finally{t=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};r.__esModule=!0,r.upload=r.bucket=r.connect=void 0;var a=t(738),u=t(185),o=t(607),i=t(940);function c(){var e=u.default.connections[0].db;r.bucket=new u.default.mongo.GridFSBucket(e,{bucketName:"filesBucket"})}t(142).config(),r.connect=function e(){return n(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:u.default.set("strictQuery",!0),u.default.connection.on("error",console.error).on("disconnected",e).on("connected",c).once("open",o.listen),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.default.connect(o.MONGODB_URI,{})];case 2:return[2,r.sent()];case 3:throw r.sent();case 4:return[2]}}))}))};var l=new i.GridFsStorage({url:process.env.MONGODB_URI,file:function(e){return new Promise((function(r){r({filename:e.body._id+"avatar",bucketName:"filesBucket"})})).catch((function(e){return console.error(e)}))}});r.upload=a({storage:l,fileFilter:function(e,r,t){r.mimetype.includes("jpeg")||r.mimetype.includes("png")||r.mimetype.includes("jpg")?t(null,!0):t(null,!1)}})},966:(e,r,t)=>{r.__esModule=!0,r.schema=void 0;var n=t(185),s=new n.Schema({username:{type:String,unique:!0,required:!0},email:{type:String,unique:!0,required:!0},password:{type:String,required:!0},isAdmin:{type:Boolean,required:!0}}),a=n.default.model("User",s);r.schema=a.schema,r.default=a},736:(e,r,t)=>{r.__esModule=!0,r.schema=void 0;var n=t(185),s=t(13),a=new n.Schema({username:{type:String,unique:!0,required:!0},levelFlexbox:{type:Number,required:!0,default:1},language:{type:String,required:!0,default:"en-us"},avatarId:{type:s.ObjectId,required:!0,default:"63d663c156bef39ec55d01ae"}}),u=n.default.model("UserData",a);r.schema=u.schema,r.default=u},14:(e,r,t)=>{r.__esModule=!0,r.router=void 0;var n=t(507),s=t(860),a=t(667),u=t(198),o=t(105),i=t(776);r.router=s.Router(),r.router.post("/login",n.loginUser),r.router.post("/register",(0,n.checkEmailEligibility)(!1),(0,n.checkUsernameEligibility)(!1),n.registerUser),r.router.post("/register/check-username",(0,n.checkUsernameEligibility)(!0)),r.router.post("/register/check-email",(0,n.checkEmailEligibility)(!0)),r.router.patch("/avatar/",(0,n.verifyToken)(!1),a.upload.single("file"),(0,n.verifyToken)(!1),u.updateAvatar),r.router.get("/avatar/:username",u.getAvatar),r.router.patch("/avatar/:username",(0,n.verifyToken)(!0),a.upload.single("file"),(0,n.verifyToken)(!0),u.updateAvatarByUsername),r.router.patch("/user",(0,n.verifyToken)(!1),o.updateUserData,o.getUserData),r.router.get("/user",(0,n.verifyToken)(!1),o.getUserData),r.router.patch("/user/:username",(0,n.verifyToken)(!0),o.updateUserDataByUsername,o.getUserDataByUsername),r.router.get("/user/:username",(0,n.verifyToken)(!0),o.getUserDataByUsername),r.router.get("/records",(0,n.verifyToken)(!1),i.getUsersRecords)},432:e=>{e.exports=require("bcryptjs")},582:e=>{e.exports=require("cors")},142:e=>{e.exports=require("dotenv")},860:e=>{e.exports=require("express")},344:e=>{e.exports=require("jsonwebtoken")},13:e=>{e.exports=require("mongodb")},185:e=>{e.exports=require("mongoose")},470:e=>{e.exports=require("morgan")},738:e=>{e.exports=require("multer")},940:e=>{e.exports=require("multer-gridfs-storage")}},r={};!function t(n){var s=r[n];if(void 0!==s)return s.exports;var a=r[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}(607)})();